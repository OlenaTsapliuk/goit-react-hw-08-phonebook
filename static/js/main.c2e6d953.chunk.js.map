{"version":3,"sources":["redux/auth/auth-operation.js","redux/auth/auth-selectors.js","redux/auth/auth-reducer.js","Components/Container/Container.js","Components/PrivateRoute.js","Components/PublicRout.js","Components/Navigation/Navigation.js","Components/UserMenu/user.png","Components/UserMenu/UserMenu.js","Components/AuthNav/AuthNav.js","Components/AppBar/AppBar.js","Components/Wrapper/Wrapper.js","App.js","redux/reducer.js","redux/store.js","index.js","Components/AuthNav/AuthNav.module.css","Components/Navigation/Navigation.module.css","Components/UserMenu/UserMenu.module.css","Components/Loader/Loader.js","Components/Container/Container.module.css","Components/Loader/Loader.module.css","Components/AppBar/AppBar.module.css","Components/Wrapper/Wrapper.module.css","redux/action.js"],"names":["axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","userData","a","rejectWithValue","post","then","data","toast","success","user","name","error","style","border","padding","color","iconTheme","primary","secondary","message","logIn","operations","logOut","fetchCurrentUser","_","getState","state","persistedToken","authUser","get","authSelectors","getIsLoggedIn","auth","isLoggedIn","getUsername","getIsFetchingCurrent","isFetchingCurrentUser","authSlice","createSlice","initialState","email","extraReducers","authOperations","fulfilled","action","payload","Container","children","className","s","container","PrivateRoute","redirectTo","routeProps","useSelector","to","PublicRoute","restricted","shouldRedirect","Navigation","exact","link","activeClassName","activeLink","UserMenu","dispatch","useDispatch","avatar","defaultAvatar","src","alt","width","Button","type","onClick","header","AppBar","Wrapper","card","Register","lazy","Login","Home","Contacts","App","useEffect","fallback","Loader","path","component","position","toastOptions","background","items","createReducer","fetchContactSuccess","addContactSuccess","deleteContactSuccess","filter","id","changeFilter","loading","fetchContactRequest","fetchContactError","addContactRequest","addContactError","deleteContactRequest","deleteContactError","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contacts","contactReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById","module","exports","Spinner","spinner","height","Component","createAction"],"mappings":"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","file":"static/js/main.c2e6d953.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport toast from 'react-hot-toast';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = createAsyncThunk(\r\n  'authUser/register',\r\n  async (userData, { rejectWithValue }) => {\r\n    try {\r\n      const data = await axios\r\n        .post('/users/signup', userData)\r\n        .then(({ data }) => data);\r\n      token.set(data.token);\r\n      toast.success(`Hello, ${data.user.name}!`);\r\n      return data;\r\n    } catch (error) {\r\n      toast.error(\r\n        `Registration failed. Check the correctness of the entered data.`,\r\n        {\r\n          style: {\r\n            border: '1px solid #2b0330',\r\n            padding: '16px',\r\n            color: '#f2f4f3',\r\n          },\r\n          iconTheme: {\r\n            primary: 'rgb(194, 98, 223);',\r\n            secondary: '#f2f4f3',\r\n          },\r\n        },\r\n      );\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nconst logIn = createAsyncThunk(\r\n  'authUser/logIn',\r\n  async (userData, { rejectWithValue }) => {\r\n    try {\r\n      const data = await axios\r\n        .post('/users/login', userData)\r\n        .then(({ data }) => data);\r\n      token.set(data.token);\r\n      toast.success(`Hello, ${data.user.name}!`);\r\n      return data;\r\n    } catch (error) {\r\n      toast.error(\r\n        `Login failed. Check the correctness of the entered data. Or register.`,\r\n        {\r\n          style: {\r\n            border: '1px solid #713200',\r\n            padding: '16px',\r\n            color: '#f2f4f3',\r\n          },\r\n          iconTheme: {\r\n            primary: '#713200',\r\n            secondary: '#f2f4f3',\r\n          },\r\n        },\r\n      );\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nconst logOut = createAsyncThunk(\r\n  'authUser/logOut',\r\n  async (userData, { rejectWithValue }) => {\r\n    try {\r\n      const data = await axios\r\n        .post('/users/logout', userData)\r\n        .then(({ data }) => data);\r\n      token.unset();\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nconst fetchCurrentUser = createAsyncThunk(\r\n  'authUser/fetchCurrentUser',\r\n  async (_, { rejectWithValue, getState }) => {\r\n    const state = getState();\r\n    const persistedToken = state.authUser.token;\r\n\r\n    if (!persistedToken) return rejectWithValue();\r\n\r\n    token.set(persistedToken);\r\n\r\n    try {\r\n      const data = await axios.get('/users/current').then(({ data }) => data);\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nconst operations = {\r\n  register,\r\n  logOut,\r\n  logIn,\r\n  fetchCurrentUser,\r\n};\r\nexport default operations;\r\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\r\n\r\nconst getUsername = state => state.auth.user.name;\r\n\r\nconst getIsFetchingCurrent = state => state.auth.isFetchingCurrentUser;\r\n\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUsername,\r\n  getIsFetchingCurrent,\r\n};\r\nexport default authSelectors;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport authOperations from './auth-operation';\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  extraReducers: {\r\n    [authOperations.register.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logIn.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logOut.fulfilled](state, action) {\r\n      state.user = { name: null, email: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\r\n      state.user = action.payload;\r\n      state.isLoggedIn = true;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;","import s from \"./Container.module.css\";\nfunction Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n\nexport default Container;\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nexport default function PrivateRoute({\r\n  children,\r\n  redirectTo = '/',\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\r\n    </Route>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nexport default function PublicRoute({\r\n  children,\r\n  restricted = false,\r\n  redirectTo = '/',\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n  return (\r\n    <Route {...routeProps}>\r\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\r\n    </Route>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navigation.module.css';\r\nimport { authSelectors } from '../../redux/auth';\r\n\r\nconst Navigation = () => {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  return (\r\n    <nav>\r\n      <NavLink exact to=\"/\" className={s.link} activeClassName={s.activeLink}>\r\n        Main\r\n      </NavLink>\r\n\r\n      {isLoggedIn ? (\r\n        <NavLink\r\n          to=\"/contacts\"\r\n          exact\r\n          className={s.link}\r\n          activeClassName={s.activeLink}\r\n        >\r\n          Phonebook\r\n        </NavLink>\r\n      ) : null}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","export default __webpack_public_path__ + \"static/media/user.a6143582.png\";","import { useDispatch, useSelector } from 'react-redux';\r\nimport { authSelectors, authOperations } from '../../redux/auth';\r\nimport defaultAvatar from './user.png';\r\nimport { Button } from 'react-bootstrap';\r\nimport s from './UserMenu.module.css';\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelectors.getUsername);\r\n  const avatar = defaultAvatar;\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <img src={avatar} alt=\"\" width=\"32\" className={s.avatar} />\r\n      <span className={s.name}>Welcome, {name}</span>\r\n      <Button type=\"button\" onClick={() => dispatch(authOperations.logOut())}>\r\n        LogOut\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import { NavLink } from 'react-router-dom';\r\nimport s from './AuthNav.module.css';\r\nexport default function Navigation() {\r\n  return (\r\n    <nav className={s.header}>\r\n      <div className={s.auth}>\r\n        <NavLink\r\n          to=\"/register\"\r\n          className={s.link}\r\n          activeClassName={s.activeLink}\r\n        >\r\n          Register\r\n        </NavLink>\r\n        <NavLink to=\"/login\" className={s.link} activeClassName={s.activeLink}>\r\n          Login\r\n        </NavLink>\r\n      </div>\r\n      {/* <NavLink to=\"/contacts\" className={s.link} activeClassName={s.activeLink}>\r\n        Contacts\r\n      </NavLink> */}\r\n    </nav>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport Navigation from '../Navigation';\r\nimport UserMenu from '../UserMenu';\r\nimport AuthNav from '../AuthNav';\r\nimport { authSelectors } from '../../redux/auth';\r\nimport s from './AppBar.module.css';\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <header className={s.header}>\r\n      <Navigation />\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import s from './Wrapper.module.css';\r\n\r\nexport default function Wrapper({ children }) {\r\n  return <div className={s.card}>{children}</div>;\r\n}\r\n","import { Switch } from 'react-router-dom';\nimport { Suspense, useEffect, lazy } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Toaster } from 'react-hot-toast';\nimport Container from './Components/Container';\nimport Loader from './Components/Loader/Loader';\nimport PrivateRoute from './Components/PrivateRoute';\nimport PublicRoute from './Components/PublicRout';\nimport { authOperations } from './redux/auth';\nimport AppBar from './Components/AppBar/AppBar';\nimport Wrapper from './Components/Wrapper/Wrapper';\n\nconst Register = lazy(() =>\n  import('./views/Register' /*webpackChunkName: \"registration_page\" */),\n);\nconst Login = lazy(() =>\n  import('./views/Login' /*webpackChunkName: \"login_page\" */),\n);\nconst Home = lazy(() =>\n  import('./views/Home' /*webpackChunkName: \"home_page\" */),\n);\nconst Contacts = lazy(() =>\n  import('./views/Contacts' /*webpackChunkName: \"contacts_page\" */),\n);\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <Container>\n      <AppBar />\n      <Wrapper>\n        <Suspense fallback={<Loader />}>\n          <Switch>\n            <PublicRoute exact path=\"/\" component={Home} />\n            <PublicRoute\n              path=\"/register\"\n              redirectTo=\"/login\"\n              restricted\n              component={Register}\n            />\n            <PublicRoute\n              path=\"/login\"\n              redirectTo=\"/contacts\"\n              restricted\n              component={Login}\n            />\n            <PrivateRoute\n              path=\"/contacts\"\n              redirectTo=\"/login\"\n              component={Contacts}\n            />\n          </Switch>\n        </Suspense>\n        <Toaster\n          position=\"top-center\"\n          toastOptions={{\n            style: {\n              background: '#2b0330',\n              color: '#fff',\n            },\n          }}\n        />\n      </Wrapper>\n    </Container>\n  );\n}\n\nexport default App;\n","import { combineReducers } from \"redux\";\r\nimport {\r\n    addContactSuccess,\r\n    addContactRequest,\r\n    addContactError,\r\n    deleteContactRequest,\r\n    deleteContactSuccess,\r\n    deleteContactError,\r\n    fetchContactRequest,\r\n    fetchContactSuccess,\r\n    fetchContactError,\r\n    changeFilter \r\n} from './action';\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\n\r\n\r\nconst items = createReducer([], {\r\n    [fetchContactSuccess]:(_, { payload }) => payload,\r\n    [addContactSuccess]: (state, { payload }) => [...state, payload],\r\n    [deleteContactSuccess]: (state, { payload }) =>\r\n        state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filter = createReducer('', {\r\n    [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst loading = createReducer(\r\n    false, {\r\n    [fetchContactRequest]: () => true,\r\n    [fetchContactSuccess]: () => false,\r\n    [fetchContactError]: () => false,\r\n    [addContactRequest]: () => true,\r\n    [addContactSuccess]: () => false,\r\n    [addContactError]: () => false,\r\n    [deleteContactRequest]: () => true,\r\n    [deleteContactSuccess]: () => false,\r\n    [deleteContactError]: () => false,\r\n});\r\nconst error = createReducer(null, {\r\n  [fetchContactError]: (_, { payload }) => payload,\r\n  [addContactError]: (_, { payload }) => payload,\r\n  [deleteContactError]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n    items,\r\n    filter,\r\n    loading,\r\n    error,\r\n});\r\n\r\n// const items = (state = [], { type, payload })=>{\r\n//     switch(type){\r\n//        case types.ADD:\r\n//         return [...state, payload];\r\n\r\n//         case types.DELETE:\r\n//         return state.filter(({id}) =>id !== payload);\r\n        \r\n//         default:\r\n//         return state;\r\n//     }\r\n// }\r\n// const filter = (state = '', {type,payload})=>{\r\n//     switch(type){\r\n//         case types.CHANGE_FILTER:\r\n//             return payload;\r\n\r\n//         default:\r\n//         return state;\r\n//     }\r\n// }\r\n","// import { combineReducers } from \"redux\";\r\nimport { configureStore,getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport {\r\n    persistStore,\r\n  persistReducer,\r\n    FLUSH,\r\n    REHYDRATE,\r\n    PAUSE,\r\n    PERSIST,\r\n    PURGE,\r\n    REGISTER,\r\n} from 'redux-persist';\r\nimport logger from 'redux-logger';\r\nimport storage from 'redux-persist/lib/storage'\r\nimport contactReducer from './reducer';\r\nimport { authReducer } from './auth';\r\n\r\n// LocalStorage\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n   logger,\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n      auth:persistReducer(authPersistConfig,authReducer),\r\n      contacts:contactReducer\r\n    },\r\n     middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\n\r\nexport const persistor = persistStore(store);\r\n\r\n\r\n\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { PersistGate } from 'redux-persist/integration/react';\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport {store, persistor} from './redux/store'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n     <BrowserRouter>\n      <App />\n      </BrowserRouter>\n     </PersistGate>   \n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__ubPMq\",\"activeLink\":\"AuthNav_activeLink__2RvjD AuthNav_link__ubPMq\",\"header\":\"AuthNav_header__3Jvy2\",\"auth\":\"AuthNav_auth__3avP8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__1z2iC\",\"activeLink\":\"Navigation_activeLink__3VNhc Navigation_link__1z2iC\",\"header\":\"Navigation_header__1hKG0\",\"auth\":\"Navigation_auth__9ICnY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__2QaW4\",\"avatar\":\"UserMenu_avatar__2TVqL\",\"name\":\"UserMenu_name__QkdYj\"};","import Loader from \"react-loader-spinner\";\r\nimport { Component } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from \"./Loader.module.css\";\r\nexport default class Spinner extends Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <div className={s.spinner}>\r\n        <Loader type=\"Circles\" color='#15226d' height={100} width={100} />\r\n      </div>\r\n    );\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2PZwU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Loader_spinner__3Jcd4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__3Vi5I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Wrapper_card__w8T0-\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\n\r\nexport const fetchContactRequest = createAction(\r\n  'contacts/fetchContactRequest',\r\n);\r\nexport const fetchContactSuccess = createAction(\r\n  'contacts/fetchContactSuccess',\r\n);\r\nexport const fetchContactError = createAction('contacts/fetchContactError');\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction(\r\n'contacts/deleteContactRequest',\r\n);\r\nexport const deleteContactSuccess = createAction(\r\n  'contacts/deleteContactSuccess',\r\n);\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\n\r\nexport const changeFilter = createAction('contacts/changeFilter');\r\n\r\n\r\n\r\n// ======Redux======\r\n//  export default {\r\n// ADD:'contact/add',\r\n// DELETE:'contact/delete',\r\n// CHANGE_FILTER:'contact/changeFilter',\r\n// }\r\n\r\n// const addContact = (name, number) => ({\r\n//   type: types.ADD,\r\n//     payload:{\r\n//       id: shortid.generate(),\r\n//       name,\r\n//       number,\r\n//     } \r\n// })\r\n// const deleteContact = (contactId) => ({\r\n//   type: types.DELETE,\r\n//   payload: contactId,\r\n      \r\n// });\r\n// const changeFilter = value => ({\r\n//   type: types.CHANGE_FILTER,\r\n//   payload: value,\r\n      \r\n// });\r\n// export default { addContact, deleteContact, changeFilter }"],"sourceRoot":""}